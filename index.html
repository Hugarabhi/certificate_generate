<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codenprofit | Joining Certificate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,700;1,700&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold-primary: #A67C00;
            --gold-light: #D4AF37;
            --slate-dark: #0f172a;
            --luxury-blue: #f0f7ff;
            --paper-base: #FFFFFF;
        }

        body {
            background: #cbd5e1;
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 20px;
        }

        /* Strict A4 Proportions */
        .a4-container {
            width: 210mm;
            height: 297mm;
            background: linear-gradient(135deg, #ffffff 0%, var(--luxury-blue) 100%);
            position: relative;
            margin: 0 auto;
            overflow: hidden;
            box-shadow: 0 40px 100px -20px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            color: var(--slate-dark);
        }

        /* Decorative Background Pattern (Guilloche) */
        .bg-pattern {
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M40 40c15-15 30-15 45 0M-5 40c15-15 30-15 45 0m0 0c-15 15-30 15-45 0m45 0c15 15 30 15 45 0' stroke='%23A67C00' fill='none' stroke-opacity='0.04'/%3E%3C/svg%3E");
            z-index: 1;
        }

        /* Layered Borders */
        .border-main { position: absolute; inset: 10mm; border: 1px solid rgba(148, 163, 184, 0.2); z-index: 2; }
        .border-gold { position: absolute; inset: 12mm; border: 4px double var(--gold-primary); z-index: 2; }
        .border-inner-frame { position: absolute; inset: 18mm; border: 1px solid rgba(166, 124, 0, 0.15); z-index: 2; }

        .bg-symbols {
            position: absolute;
            inset: 0;
            opacity: 0.05;
            z-index: 1;
            pointer-events: none;
        }

        .content-layer {
            position: relative;
            z-index: 10;
            padding: 25mm 20mm;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .serif-title { font-family: 'Playfair Display', serif; }
        .signature-font { font-family: 'Dancing Script', cursive; }
        .gold-gradient-text {
            background: linear-gradient(135deg, #8A6900 0%, #D4AF37 50%, #8A6900 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-premium {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(0,0,0,0.3);
        }

        .logo-img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        @media print { .no-print { display: none !important; } }
    </style>
</head>
<body>

    <!-- Setup Panel -->
    <div class="max-w-5xl mx-auto mb-10 bg-white/90 backdrop-blur-md p-8 rounded-3xl shadow-xl no-print border border-white/20">
        <h2 class="text-xl font-bold mb-6 text-slate-800 flex items-center gap-2">
            <span class="w-8 h-8 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-sm font-black">1</span>
            Elite Onboarding Setup
        </h2>
        <a href="joining.html" style="text-decoration: none;">
    <button style="
        padding: 12px 25px;
        background-color: #0f172a;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s ease;
    " 
    onmouseover="this.style.backgroundColor='#1e293b'"
    onmouseout="this.style.backgroundColor='#0f172a'">
        ðŸš€ Joining latter create
    </button>
</a>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Appointee Name</label>
                <input type="text" id="inputName" value="Alexandra Sterling" 
                       class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none transition-all">
            </div>
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Assigned Role</label>
                <select id="inputRole" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none">
                    <option value="Web Developer">Web Developer</option>
                    <option value="Full Stack Developer">Full Stack Developer</option>
                    <option value="Frontend Developer">Frontend Developer</option>
                    <option value="Backend Developer">Backend Developer</option>
                    <option value="Market Manager">Market Manager</option>
                    <option value="Business Handler">Business Handler</option>
                    <option value="Marketing Lead">Marketing Lead</option>
                    <option value="Meeting Handler">Meeting Handler</option>
                    <option value="Tech Master">Tech Master</option>
                    <option value="Update Manager">Update Manager</option>
                    <option value="Quality Head">Quality Head</option>
                </select>
            </div>
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Joining Date</label>
                <input type="date" id="inputDate" value="2026-03-01" 
                       class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none">
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-slate-100">
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Manual Reference Number</label>
                <input type="text" id="inputRef" placeholder="e.g. CP-2026-8842" 
                       class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none">
            </div>
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Authenticity Hash Key</label>
                <input type="text" id="inputHash" placeholder="e.g. 8F2A-9B01-4432-EE21" 
                       class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none">
            </div>
        </div>

        <div class="mt-8 flex justify-end">
            <button onclick="generatePDF()" id="downloadBtn" class="btn-premium text-white px-10 py-4 rounded-2xl font-bold shadow-lg flex items-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                Generate & Export PDF
            </button>
        </div>
    </div>

    <!-- Joining Certificate Canvas -->
    <div id="certificate" class="a4-container">
        <div class="bg-pattern"></div>
        <div class="bg-symbols">
            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                <g transform="translate(650, 150) scale(2)" fill="none" stroke="currentColor" stroke-width="1">
                    <polyline points="0,30 15,10 30,20 45,0" />
                    <line x1="0" y1="30" x2="50" y2="30" />
                </g>
                <g transform="translate(100, 950) scale(3)" fill="none" stroke="currentColor" stroke-width="1">
                    <path d="M10,0 L0,10 L10,20 M25,0 L35,10 L25,20" />
                </g>
                <g transform="translate(700, 500) scale(2)" fill="none" stroke="currentColor" stroke-width="1">
                    <path d="M0 5 Q 15 0 30 5 V 35 Q 15 30 0 35 Z M30 5 Q 45 0 60 5 V 35 Q 45 30 30 35" />
                </g>
                <text x="50" y="250" font-family="monospace" font-size="20">10110</text>
                <text x="750" y="850" font-family="monospace" font-size="24">0x4F</text>
            </svg>
        </div>
        <div class="border-main"></div>
        <div class="border-gold"></div>
        <div class="border-inner-frame"></div>

        <div class="content-layer">
            <!-- Header -->
            <div class="flex justify-between items-start w-full px-4">
                <div class="z-20">
                    <img src="MSME.jpg" class="h-14 object-contain mb-2" alt="MSME Logo" onerror="this.style.display='none'">
                    <div class="text-[9px] font-black text-slate-400 uppercase tracking-widest leading-none">Registered Enterprise</div>
                    <div class="text-[9px] font-bold text-slate-800 mt-1 uppercase">UDYAM-MH-26-1092764</div>
                </div>
                
                <div class="text-right z-20">
                    <div class="flex items-center justify-end gap-3 mb-2">
                        <div class="text-right">
                            <div class="text-xl font-black tracking-tighter text-slate-900 leading-none">CODENPROFIT</div>
                            <div class="text-[9px] font-bold text-amber-600 uppercase tracking-[0.3em]">Technologies</div>
                        </div>
                        <div class="relative">
                            <img src="codenprofit.jpeg" class="logo-img" alt="CP Logo" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'w-14 h-14 bg-slate-900 rounded-full flex items-center justify-center text-white font-bold\'>CP</div>'">
                        </div>
                    </div>
                    <div class="text-[9px] text-slate-400 font-bold italic">Ref No: <span id="refNum" class="text-slate-700">8842</span></div>
                </div>
            </div>

            <!-- Body Content -->
            <div class="flex-1 mt-10">
                <div class="mb-10">
                    <h4 class="text-amber-700 font-bold uppercase tracking-[0.5em] text-[10px] mb-4">Official Appointment Credentials</h4>
                    <h1 class="serif-title text-6xl font-bold text-slate-900 mb-2 uppercase tracking-tighter">Joining Certificate</h1>
                    <div class="h-1 w-24 bg-gradient-to-r from-amber-500 to-amber-200 mx-auto"></div>
                </div>

                <div class="text-slate-700 space-y-6 text-sm leading-relaxed text-center px-10">
                    <p class="italic text-slate-400">This document formally confirms the professional appointment of</p>
                    
                    <div class="py-6 border-y border-slate-100 my-4">
                        <h2 id="displayName" class="serif-title text-5xl font-bold gold-gradient-text uppercase tracking-tight">Alexandra Sterling</h2>
                        <div class="mt-3 text-slate-900 font-black uppercase tracking-[0.2em] text-[11px]">As: <span id="displayRole" class="underline decoration-amber-400 decoration-2 underline-offset-4">Tech Master</span></div>
                    </div>

                    <p>Effective from <span id="displayDate" class="font-bold text-slate-900">March 01, 2026</span>, the appointee is integrated into the Codenprofit Global Network. This mandate is issued based on exceptional technical capability and alignment with our mission of digital dominance.</p>

                    <div class="max-w-xl mx-auto">
                        <div class="text-[10px] font-black text-slate-900 uppercase tracking-widest mb-4 flex items-center justify-center gap-2">
                            <span class="w-1.5 h-1.5 bg-amber-500 rounded-full"></span>
                            Strategic Mandate & Responsibilities
                            <span class="w-1.5 h-1.5 bg-amber-500 rounded-full"></span>
                        </div>
                        <div id="displayDetails" class="bg-white/40 backdrop-blur-sm p-6 rounded-2xl border border-slate-200/50 italic text-slate-600 leading-relaxed shadow-sm">
                            The Elite Engineer. Solves complex technical challenges. Ensures system stability and superiority.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer Section -->
            <div class="w-full grid grid-cols-3 items-end pt-12 px-10">
                <div class="text-center">
                    <div class="signature-font text-3xl text-slate-800 mb-1">Avinash Hugar</div>
                    <div class="h-px bg-slate-300 w-full mb-2"></div>
                    <div class="text-[9px] font-bold uppercase tracking-widest text-slate-400">Founder & CEO</div>
                </div>

                <div class="flex justify-center mb-[-25mm]">
                    <!-- Premium Seal from Achievement Cert -->
                    <div class="relative w-40 h-40 flex items-center justify-center scale-110">
                        <svg class="absolute inset-0 animate-[spin_40s_linear_infinite]" viewBox="0 0 100 100">
                            <defs><path id="circlePath" d="M 50, 50 m -38, 0 a 38,38 0 1,1 76,0 a 38,38 0 1,1 -76,0" /></defs>
                            <text font-size="5" font-weight="black" fill="#8A6900" letter-spacing="2.5">
                                <textPath xlink:href="#circlePath">CODENPROFIT GLOBAL REGISTRY â€¢ VERIFIED ONBOARDING â€¢ </textPath>
                            </text>
                        </svg>
                        <div class="w-24 h-24 rounded-full bg-gradient-to-br from-[#D4AF37] via-[#F8E08E] to-[#8A6900] shadow-xl flex flex-col items-center justify-center text-white border-2 border-white/40">
                            <div class="text-[7px] uppercase font-black tracking-widest mb-0.5 opacity-80">Official</div>
                            <div class="text-xl font-black italic tracking-tighter">JOINED</div>
                            <div class="text-[7px] uppercase font-black tracking-widest mt-0.5 bg-white/20 px-1.5 rounded">Verified</div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <div class="signature-font text-3xl text-slate-800 mb-1">Board of Directors</div>
                    <div class="h-px bg-slate-300 w-full mb-2"></div>
                    <div class="text-[9px] font-bold uppercase tracking-widest text-slate-400">Advisory Group</div>
                </div>
            </div>

            <div class="mt-16 text-center w-full">
                <div class="text-[8px] text-slate-400 uppercase tracking-[0.4em] mb-2">Codenprofit Technologies â€¢ Udyam Verified â€¢ Registration: MH-26-1092764</div>
                <div class="text-[8px] text-slate-300 font-mono tracking-widest">Hash ID: <span id="fingerprint">8F2A-9B01-4432-EE21</span></div>
            </div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-8 py-3 rounded-2xl shadow-2xl opacity-0 transition-all duration-300 text-sm font-bold z-50 flex items-center gap-3">
        <span id="toastIcon">âœ¨</span>
        <span id="toastMsg"></span>
    </div>

    <script>
        const roleData = {
            "Web Developer": "Expert in crafting responsive, high-performance web solutions. Leverages cutting-edge technologies to ensure seamless user experiences.",
            "Full Stack Developer": "Versatile architect of both frontend and backend systems. Bridges logic and design to build complete, scalable digital ecosystems.",
            "Frontend Developer": "The visual specialist. Crafts immersive user interfaces with precision, ensuring performance, accessibility, and aesthetic dominance.",
            "Backend Developer": "The engine architect. Builds robust server-side logic, optimizes database structures, and ensures secure, lightning-fast data flow.",
            "Market Manager": "Strategic growth leader. Analyzes market trends, identifies opportunities, and executes high-impact campaigns to drive reach.",
            "Business Handler": "ðŸ¤ The Strategic Connector. Secures high-value clients. Builds powerful partnerships. Drives premium growth.",
            "Marketing Lead": "ðŸ“¢ The Brand Authority. Positions Codenprofit as elite. Creates visibility and digital dominance.",
            "Meeting Handler": "ðŸ”— The Alignment Specialist. Connects clients and creators with precision. Eliminates confusion.",
            "Tech Master": "ðŸ’» The Elite Engineer. Solves complex technical challenges. Ensures system stability and superiority.",
            "Update Manager": "ðŸ›¡ The Growth Guardian. Maintains websites. Handles security, performance, and monthly optimization.",
            "Quality Head": "âš– The Standard Enforcer. Evaluates performance. Rewards excellence. Protects company reputation."
        };

        const inputs = ['inputName', 'inputRole', 'inputDate', 'inputRef', 'inputHash'];

        function update() {
            document.getElementById('displayName').innerText = document.getElementById('inputName').value || "Alexandra Sterling";
            const role = document.getElementById('inputRole').value;
            document.getElementById('displayRole').innerText = role;
            document.getElementById('displayDetails').innerText = roleData[role];
            
            const dateInput = document.getElementById('inputDate').value;
            if(dateInput) {
                const date = new Date(dateInput);
                document.getElementById('displayDate').innerText = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            }

            document.getElementById('refNum').innerText = document.getElementById('inputRef').value || "PENDING";
            document.getElementById('fingerprint').innerText = document.getElementById('inputHash').value || "SHA-HASH-PENDING";
        }

        inputs.forEach(id => document.getElementById(id).addEventListener('input', update));
        document.getElementById('inputRole').addEventListener('change', update);

        // Security Init
        const randomRef = 'CP-ONB-' + Math.floor(1000 + Math.random() * 9000);
        const randomHash = Array.from({length: 4}, () => Math.random().toString(36).substr(2, 4).toUpperCase()).join('-');
        
        document.getElementById('inputRef').value = randomRef;
        document.getElementById('inputHash').value = randomHash;
        
        update();

        async function generatePDF() {
            const btn = document.getElementById('downloadBtn');
            const original = btn.innerHTML;
            btn.disabled = true;
            btn.innerHTML = `<span class="animate-spin text-xl">â—Œ</span> Processing...`;

            const element = document.getElementById('certificate');
            
            try {
                const canvas = await html2canvas(element, {
                    scale: 3,
                    useCORS: true, 
                    allowTaint: true,
                    backgroundColor: '#FFFFFF',
                    width: 210 * 3.7795,
                    height: 297 * 3.7795,
                    logging: false
                });

                const imgData = canvas.toDataURL('image/jpeg', 0.98);
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({ orientation: 'p', unit: 'mm', format: 'a4' });
                pdf.addImage(imgData, 'JPEG', 0, 0, 210, 297);
                pdf.save(`Joining_Letter_${document.getElementById('inputName').value.replace(/\s+/g, '_')}.pdf`);
                showToast("Elite Document Exported! âœ¨");
            } catch (err) {
                console.error(err);
                showToast("Export Failed âš ï¸", "âš ï¸");
            } finally {
                btn.disabled = false;
                btn.innerHTML = original;
            }
        }

        function showToast(msg, icon = "âœ¨") {
            const t = document.getElementById('toast');
            document.getElementById('toastIcon').innerText = icon;
            document.getElementById('toastMsg').innerText = msg;
            t.style.opacity = "1";
            setTimeout(() => t.style.opacity = "0", 3000);
        }
    </script>
</body>
</html>
