<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codenprofit | Elite Certification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,700;1,700&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold-primary: #A67C00;
            --gold-light: #D4AF37;
            --slate-dark: #1E293B;
            --paper-base: #FFFFFF;
        }

        body {
            background: #cbd5e1;
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 20px;
        }

        /* Strict A4 Proportions */
        .a4-container {
            width: 210mm;
            height: 297mm;
            background: var(--paper-base);
            position: relative;
            margin: 0 auto;
            overflow: hidden;
            box-shadow: 0 40px 100px -20px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            color: var(--slate-dark);
        }

        /* Decorative Background Pattern (Guilloche) */
        .bg-pattern {
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M40 40c15-15 30-15 45 0M-5 40c15-15 30-15 45 0m0 0c-15 15-30 15-45 0m45 0c15 15 30 15 45 0' stroke='%23A67C00' fill='none' stroke-opacity='0.05'/%3E%3C/svg%3E");
            z-index: 1;
        }

        /* Layered Borders */
        .border-main {
            position: absolute;
            inset: 12mm;
            border: 1px solid #e2e8f0;
            z-index: 2;
        }

        .border-gold {
            position: absolute;
            inset: 15mm;
            border: 4px double var(--gold-primary);
            z-index: 2;
        }

        .border-inner-frame {
            position: absolute;
            inset: 22mm;
            border: 1px solid rgba(166, 124, 0, 0.2);
            z-index: 2;
        }

        .content-layer {
            position: relative;
            z-index: 10;
            padding: 30mm 25mm;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            justify-content: space-between;
        }

        .gold-gradient-text {
            background: linear-gradient(135deg, #8A6900 0%, #D4AF37 50%, #8A6900 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .signature-font { font-family: 'Dancing Script', cursive; }
        .serif-font { font-family: 'Cormorant Garamond', serif; }
        .display-font { font-family: 'Playfair Display', serif; }

        /* Symbols Watermark */
        .symbol-watermark {
            position: absolute;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150mm;
            height: 150mm;
            z-index: 1;
            pointer-events: none;
        }

        /* Controls Panel */
        .no-print { @media print { display: none !important; } }

        .btn-premium {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(0,0,0,0.3);
        }

       .logo-img {
    width: 100px;          /* Adjust size */
    height: 100px;
    border-radius: 50%;    /* Makes it round */
    object-fit: cover;     /* Fills circle nicely */
    border: 4px solid white; /* Clean border */
    box-shadow: 0 8px 20px rgba(0,0,0,0.25); /* Soft shadow */
}
    </style>
</head>
<body>

    <!-- Professional Control Panel -->
    <div class="max-w-4xl mx-auto mb-10 bg-white/90 backdrop-blur-md p-6 rounded-3xl shadow-2xl no-print border border-white/20">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end">
            <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Recipient Full Name</label>
                    <input type="text" id="inputName" value="Alexandra Sterling" 
                           class="w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all font-medium">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Area of Expertise</label>
                    <input type="text" id="inputRole" value="Full-Stack Engineering Excellence" 
                           class="w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all font-medium">
                </div>
            </div>
            <div class="flex gap-2">
                <button onclick="generatePDF()" id="downloadBtn" class="flex-1 btn-premium text-white px-6 py-3.5 rounded-2xl font-bold flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                    Export PDF
                </button>
            </div>
        </div>
    </div>

    <!-- The Certificate Canvas -->
    <div id="certificate" class="a4-container">
        <div class="bg-pattern"></div>
        <div class="border-main"></div>
        <div class="border-gold"></div>
        <div class="border-inner-frame"></div>

        <!-- Integrated Symbols Watermark -->
        <div class="symbol-watermark">
            <img src="codenprofit.jpeg" class="absolute inset-0 w-full h-full object-contain opacity-[0.04] filter grayscale" alt="Watermark" onerror="this.style.display='none'">
            <svg viewBox="0 0 500 500" class="w-full h-full opacity-[0.06]">
                <g fill="none" stroke="currentColor" stroke-width="1.5">
                    <!-- Path line connecting symbols -->
                    <path d="M100 400 C 150 350, 350 150, 400 100" stroke-dasharray="10 5" />
                    
                    <!-- Laptop (Center Top) -->
                    <g transform="translate(225, 80) scale(1.2)">
                        <rect x="0" y="0" width="40" height="28" rx="2" />
                        <path d="M-5 28 L45 28" stroke-width="3" />
                    </g>
                    
                    <!-- Book (Left) -->
                    <g transform="translate(80, 220) scale(1.2)">
                        <path d="M0 0 Q 20 5 40 0 V 30 Q 20 35 0 30 Z" />
                        <path d="M40 0 Q 60 5 80 0 V 30 Q 60 35 40 30" />
                    </g>

                    <!-- Growth Graph (Right) -->
                    <g transform="translate(350, 220) scale(1.2)">
                        <polyline points="0,30 10,15 20,20 30,5 40,10" />
                        <path d="M0 35 L40 35" />
                    </g>

                    <!-- Profit Symbol (Bottom) -->
                    <g transform="translate(235, 380) scale(1.5)">
                        <circle cx="15" cy="15" r="20" />
                        <text x="7" y="22" font-family="Arial" font-weight="bold" fill="currentColor" style="font-size: 20px;">$</text>
                    </g>
                </g>
            </svg>
        </div>

        <div class="content-layer">
            <!-- Header Section -->
            <div class="w-full">
                <div class="flex flex-col items-center mb-6">
                    <div id="logoContainer" class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center overflow-hidden mb-3 shadow-xl ring-4 ring-amber-100 p-1">
                        <img src="codenprofit.jpeg" alt="Logo" class="logo-img" onerror="this.style.display='none'; const p=this.parentElement; if(p){p.innerText='CP'; p.classList.add('bg-slate-900','text-white','text-3xl','font-bold');}">
                    </div>
                    <div class="text-xs font-black tracking-[0.4em] uppercase text-slate-800">Codenprofit</div>
                    <div class="h-1 w-12 bg-amber-500 mt-2 rounded-full"></div>
                </div>
                <div class="flex justify-between items-center text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] px-10">
                    <div>Registry ID: <span class="text-slate-800" id="certId">CP-FD01-001</span></div>
                    <div>Issued: <span class="text-slate-800">February 04, 2026</span></div>
                </div>
            </div>

            <!-- Body Section -->
            <div class="flex flex-col items-center">
                <h4 class="text-amber-700 font-bold uppercase tracking-[0.5em] text-sm mb-6">Credential of Technical Proficiency</h4>
                <h1 class="serif-font text-7xl font-bold text-slate-900 leading-[1.1] uppercase tracking-tighter">
                    Certificate <span class="text-slate-400">of</span><br>Achievement
                </h1>
                
                <div class="w-48 h-px bg-gradient-to-r from-transparent via-amber-300 to-transparent my-10"></div>
                
                <p class="text-slate-500 italic text-xl mb-4 font-light">This prestigious award is presented to</p>
                
                <div class="relative py-4">
                    <h2 id="displayName" class="display-font text-6xl font-bold gold-gradient-text">Alexandra Sterling</h2>
                    <div class="absolute -bottom-2 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-amber-200 to-transparent"></div>
                </div>

                <p class="mt-10 max-w-2xl text-slate-600 leading-relaxed text-center font-medium">
                    In recognition of exceptional dedication and the successful mastery of the curriculum focusing on
                    <span class="text-slate-900 font-bold underline decoration-amber-300 decoration-2 underline-offset-4" id="displayRole">Full-Stack Engineering Excellence</span>.
                </p>
                
                <p class="mt-4 max-w-xl text-slate-400 text-sm leading-relaxed">
                    The bearer of this document has demonstrated the rigorous standards required by the Codenprofit Global Network for professional deployment and market-ready development capability.
                </p>
            </div>

            <!-- Footer Section -->
            <div class="w-full grid grid-cols-3 items-end pt-10">
                <div class="text-center">
                    <div class="signature-font text-3xl text-slate-800 mb-1">Avinash Hugar</div>
                    <div class="h-px bg-slate-300 w-3/4 mx-auto mb-2"></div>
                    <div class="text-[9px] font-bold uppercase tracking-widest text-slate-400">CO-FOUNDER</div>
                </div>

                <div class="flex justify-center mb-[-20mm]">
                    <!-- Premium 3D Seal -->
                    <div class="relative w-44 h-44 flex items-center justify-center scale-110">
                        <svg class="absolute inset-0 animate-[spin_30s_linear_infinite]" viewBox="0 0 100 100">
                            <defs><path id="circlePath" d="M 50, 50 m -38, 0 a 38,38 0 1,1 76,0 a 38,38 0 1,1 -76,0" /></defs>
                            <text font-size="5" font-weight="bold" fill="#8A6900" letter-spacing="2.5">
                                <textPath xlink:href="#circlePath">CODENPROFIT GLOBAL REGISTRY • VERIFIED DEVELOPER • </textPath>
                            </text>
                        </svg>
                        <div class="w-28 h-28 rounded-full bg-gradient-to-br from-[#D4AF37] via-[#F8E08E] to-[#8A6900] shadow-[0_15px_30px_-5px_rgba(138,105,0,0.4)] flex flex-col items-center justify-center text-white border-2 border-white/40 ring-4 ring-amber-50">
                            <div class="text-[7px] uppercase font-black tracking-widest mb-1 opacity-80">Official</div>
                            <div class="text-2xl font-black italic tracking-tighter shadow-sm">2026</div>
                            <div class="text-[7px] uppercase font-black tracking-widest mt-1 bg-white/20 px-2 py-0.5 rounded">Verified</div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <div class="signature-font text-3xl text-slate-800 mb-1">Codenprofit Team</div>
                    <div class="h-px bg-slate-300 w-3/4 mx-auto mb-2"></div>
                    <div class="text-[9px] font-bold uppercase tracking-widest text-slate-400">Advisory Board</div>
                </div>
            </div>
            
            <div class="text-[8px] text-slate-300 uppercase tracking-[0.3em] w-full pt-16">
                Certificate Authenticity Key: <span id="fingerprint" class="font-mono">8F2A-9B01-4432-EE21</span>
            </div>
        </div>
    </div>

    <!-- UI State Toast -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-3 opacity-0 pointer-events-none transition-all duration-300">
        <div id="toastIcon"></div>
        <span id="toastMsg" class="font-bold text-sm"></span>
    </div>

    <script>
        const inputName = document.getElementById('inputName');
        const inputRole = document.getElementById('inputRole');
        const displayName = document.getElementById('displayName');
        const displayRole = document.getElementById('displayRole');

        // Dynamic Updates
        function update() {
            displayName.innerText = inputName.value || "Recipient Name";
            displayRole.innerText = inputRole.value || "Excellence in Technology";
        }
        inputName.addEventListener('input', update);
        inputRole.addEventListener('input', update);

        // Security Metadata
        document.getElementById('certId').innerText = 'CP-' + Math.floor(1000 + Math.random() * 9000) + '-' + Math.floor(1000 + Math.random() * 9000);
        document.getElementById('fingerprint').innerText = Array.from({length: 4}, () => Math.random().toString(36).substr(2, 4).toUpperCase()).join('-');

        // Export Engine
        async function generatePDF() {
            const btn = document.getElementById('downloadBtn');
            const original = btn.innerHTML;
            
            btn.disabled = true;
            btn.innerHTML = `<span class="animate-spin text-xl">◌</span> Processing...`;

            const element = document.getElementById('certificate');
            
            try {
                // High precision capture for A4
                const canvas = await html2canvas(element, {
                    scale: 3, // 300 DPI
                    useCORS: true,
                    backgroundColor: '#FFFFFF',
                    width: 210 * 3.7795, // mm to px
                    height: 297 * 3.7795,
                    logging: false,
                    windowWidth: element.scrollWidth,
                    windowHeight: element.scrollHeight
                });

                const imgData = canvas.toDataURL('image/jpeg', 1.0);
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4',
                    compress: true
                });

                pdf.addImage(imgData, 'JPEG', 0, 0, 210, 297, undefined, 'FAST');
                pdf.save(`Codenprofit_Achievement_${inputName.value.replace(/\s+/g, '_')}.pdf`);

                notify("Successfully exported A4 Certificate", "✨");
            } catch (err) {
                console.error(err);
                notify("Export failed. Please try again.", "⚠️");
            } finally {
                btn.disabled = false;
                btn.innerHTML = original;
            }
        }

        function notify(msg, icon) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMsg').innerText = msg;
            document.getElementById('toastIcon').innerText = icon;
            toast.style.opacity = "1";
            toast.style.bottom = "40px";
            setTimeout(() => {
                toast.style.opacity = "0";
                toast.style.bottom = "10px";
            }, 3000);
        }
    </script>
</body>
</html>
